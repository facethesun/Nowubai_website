<!DOCTYPE HTML>
<html>
<head>
<title>用户注册</title>
<link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all">
<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Refinement Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template,
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/slick.js"></script>
<!--<script src="js/layer.js"></script>-->
<!--<script src="js/hm.js"></script>-->
    <script src="js/placeholder.js"></script>
<!--<link href='https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:400,200,300,700' rel='stylesheet' type='text/css'>-->
<!--<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,800italic,800,700italic,700,600italic,600,400italic,300italic,300' rel='stylesheet' type='text/css'>-->
    <link rel="stylesheet" href="css/slick.css" type="text/css" media="all">
    <link rel="stylesheet" href="css/reset.css" type="text/css" media="all">
    <link rel="stylesheet" href="css/webnet.css" type="text/css" media="all">
	<link rel="stylesheet" href="css/layer.css" type="text/css" media="all">
    <script src="js/bootstrap.js"></script>
    <style>
        .fullcategory {
            width: 220px;
            height: 383px;
        }
        .jbxx .jbxx_d .jbxx_d1 ul > li .div1 .select-menu-ul1 {
            list-style: none;
            opacity: 0;
            display: none;
            width: 100%;
            text-align: left;
            border: 1px solid #ddd;
            background: #fff;
            position: fixed;
            bottom: 0;
            left: 0px;
            z-index: 9999;
            height: 310px;
            overflow: scroll;
            margin-top: 50px;
            list-style: none;
            opacity: 0;
            display: none;
            width: 336px;
            text-align: left;
            border: 1px solid #ddd;
            background: #fff;
            position: absolute;
            z-index: 1;
            left: 250px;
            top: 70px;
        }
    </style>
</head>
<body>

		<!--header-->
			<div class="headerbanr">
				<div class="container">
					<div class="header-top">
						<nav class="navbar navbar-default">
							<div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
								<div class="navbar-header">
									  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
											<span class="sr-only">Toggle navigation</span>
											<span class="icon-bar"></span>
											<span class="icon-bar"></span>
											<span class="icon-bar"></span>
									  </button>
									<div class="navbar-brand">
										<h1><a href="index.html"><B>NO伍佰家教</B></a></h1>
									</div>
								</div>

    <!-- Collect the nav links, forms, and other content for toggling -->
							<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
							  <ul class="nav navbar-nav">
									<li><a href="index.html">首页 <span class="sr-only">(current)</span></a></li>
									<li><a href="about.html">关于</a></li>
									<li><a href="services.html">服务</a></li>
									<li class="dropdown"><a href="teachergallery.html">教员库 </a>
									</li>
                                   <li class="dropdown"><a href="usergallery.html">学员库 </a>
									</li>
                                    <li><a href="information.html">文章中心</a></li>
								  	<li><a href="contact.html">联系我们</a></li>
                                      <li id="log"><a href="login.html">登录</a></li>
                                      <li class="active" id="zc"><a href="register.html">注册</a></li>
                                      <!-- <span id ="login" style="color: crimson;"></span>&nbsp;&nbsp;&nbsp;<span id ="register" style="color: crimson;"></span>
                                      <script src="js/yanzheng1.js"></script> -->
								</ul>

							</div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
						</nav>

					</div>
			</div>
	</div>

 <!--请家教-->
    <form action="">
        <div class="qjj wp clear">


<div class="qjj_l fl">
    <div class="qjj_l_t">
        <h3>会员反馈</h3>
        <div class="qjj_l_t1">
            <ul>
                <li>
                            <a href="">
                                <h3><i></i>学员反馈与张教员成功授课：</h3>
                                <p>好的</p>
                            </a>
                        </li><li>
                            <a href="">
                                <h3><i></i>学员反馈与李教员成功授课：</h3>
                                <p>很好的教员，上课负责，口语标准。</p>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
    <div class="qjj_l_d">
        <a href="register.html" class="a2">免费注册</a>
        <a href="/site/gettutor">我要请家教</a>
        <a href="/tutor/register" class="a2">我要做家教</a>

    </div>
</div>
            <div class="qjj_r fr">
                <div class="qjj_r_t">
                    <!--            <span><img src="--><!--images/img_15.png" alt="">您的位置：</span>-->
                    <a href="">>> 请家教</a>
                </div>
                <div class="qjj_r_t1">
                    <h3>请家长（学员）填写以下家教需求信息</h3>
                                            <p>（我们相信，每个孩子都有合适他/她的老师，我们承诺为学员免费更换教员，直到满意为止！）</p>
                                    </div>
                <div class="qjj_r_d">
                    <ul>
                        <li class="clear">
                            <span><i>*</i>账号：</span>
                            <input name="user_account" type="text" value="">
                        </li>
                        <li class="clear">
                            <span><i>*</i>密码：</span>
                            <input name="user_password" type="password" value="">
                        </li>
                         <li class="clear">
                            <span><i>*</i>确认密码：</span>
                            <input name="user_password2" type="password" value="">
                        </li>
                        <li class="clear">
                            <span><i>*</i>联系人姓名：</span>
                            <input name="user_name" type="text" value="">
                            <i>如学生家长姓名或学生本人</i>
                        </li>
                        <li class="clear">
                            <span><i>*</i>联系人电话：</span>
                            <input name="user_phone" type="text" value="">
                            <i>电话号码仅网站工作人员可见，请放心填写</i>
                        </li>
                        <li class="clear">
                            <span>联系人邮箱：</span>
                            <input name="user_email" type="text" value=""> 
                            <i>您的微信号仅工作人员可见,请放心填写</i>
                        </li>
                        <li class="clear">
                            <span>学员性别：</span>
                            <div class="xb clear">
                                <div class="female fl">
                                    <input type="radio" value="1" id="female" name="user_sex" checked />
                                    <label for="female">男</label>
                                </div>
                                <div class="male fl">
                                    <input type="radio"  value="2" id="male" name="user_sex" />
                                    <label for="male">女</label>
                                </div>
                            </div>
                        </li>
                        <!-- <li class="clear">
                            <span>教员性别：</span>
                            <div class="xb clear">
                                <div class="female fl">
                                    <input type="radio" value="1" id="fnan" name="tutor_sex" checked/>
                                    <label for="fnan">男</label>
                                </div>
                                <div class="male fl">
                                    <input type="radio" value="2" id="mnv" name="tutor_sex" />
                                    <label for="mnv">女</label>
                                </div>
                                <div class="mfa fl">
                                    <input type="radio" value="0" id="mxb" name="tutor_sex"  />
                                    <label for="mxb">性别不限</label>
                                </div>
                            </div>
                        </li> -->
                        <!-- <li class="clear">
                            <span>教员类别：</span>
                            <div class="xb clear">
                                <div class="female fl">
                                    <input type="radio" value="1" id="fnan1" name="tutor_ask" checked/>
                                    <label for="fnan1">大学生教师</label>
                                </div>
                                <div class="male fl">
                                    <input type="radio" value="2" id="mnv1" name="tutor_ask" />
                                    <label for="mnv1">专职教师</label>
                                </div> -->
                                <!--                            <div class="mfa fl">-->
                                <!--                                <input type="radio" value="0" id="mxb1" name="tutor_ask" />-->
                                <!--                                <label for="mxb1">性别不限</label>-->
                                <!--                            </div>-->
                            <!-- </div> -->
                        
                            <style>
                                .code{width: 116px;}
                                .code span{
                                    font-size: 30px;
                                }
                            </style>
                            <div class="code"  title='点击切换' style="position: relative;top:30px;margin-left: 40px; top: -60px; margin-left: 298px; opacity: 1; background-color: rgb(251, 251, 251);font-size: 20px;"></div>

                            <li style="text-align: center">
                                <input type="radio" id="dcb" name="sec" value="0" onclick="this.value=(this.value==0)?1:0">
                                <label for="dcb" style="font-size: 18px">已阅读并同意</label> <i><a href="javascript:;" class="track_click" style="color: red;font-size: 18px;">《用户协议》</a></i><em style="font-size: 18px">和</em> <i><a  href="javascript:;" class="track_click1" style="color: red;font-size: 18px;">《学员须知》</a></i>
                            </li>
                            <!--                    <li class="clear" style="margin-left: 40px">-->
                            <!--                        <div class="xb clear">-->
                            <!--                            <div class="female fl" style="color: red;font-size: 18px;">-->
                            <!--                                <div class="female fl">-->
                            <!--                                    <input type="radio" value="1" id="ghju" name="tutor_sex1"  />-->
                            <!--                                    <label for="ghju">因虚假信息而引发的任何后果，一概由填表人负责，与本站无关。</label>-->
                            <!--                                </div>-->
                            <!---->
                            <!--                            </div>-->
                            <!--                        </div>-->
                            <!--                    </li>-->
<!--是否提交 -->
<input hidden  class="is_submit"  value="0 "style="">

                            <li class="clear">
                                <input class="form_submit"  type="button" value=" 填写好了，立即提交！ "style="    width: 200px;    margin-left: 286px;">
                            </li>
                    </ul>

                </div>


            </div>
        </div>
        <script>
            $(".form_submit").on("click", function () {

                //获取数据


                var user_account = $("input[name=user_account]").val()
                console.log(user_account)
                //给出正则


                var nameReg = /^[a-zA-Z][0-9A-Za-z_]{6,12}/;
                var upwdReg = /^\w{6,12}$/;
                var phoneReg = /^1[3-9][0-9]{9}$/;
                var emailReg = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;
                //进行数据判断


                var check = true;

                if (!nameReg.test(user_account)) {
                    alert('账号不能为空或者不符合要求')
                    check = false;
                    return;
                }
                user_password = $("input[name=user_password]").val()
                if (!upwdReg.test(user_password)) {
                    alert('密码不能为空或者不符合要求');
                    check = false;
                    return;
                }
                user_password2 =$("input[name=user_password2]").val()
                 if (!upwdReg.test(user_password2)) {
                    alert('密码不能为空或者不符合要求');
                    check = false;
                    return;
                }
                user_name = $("input[name=user_name]").val()
                if(user_name ==""){
                    alert('联系人不能为空或者不符合要求');
                    check = false;
                    return;
                }
                user_phone =$("input[name=user_phone]").val()
                if(!phoneReg.test(user_phone)){
                    alert('手机号不能为空或者不符合要求');
                    check = false;
                    return;
                }
                user_email=$("input[name=user_email]").val()
                if(!emailReg.test(user_email)){
                    alert('邮箱不能为空或者不符合要求');
                    check = false;
                    return;
                }
                user_sex = $("input[name=user_sex]:checked").val()
                var dcb = $("#dcb").val()
                console.log(dcb)
                if(dcb==0){
                    alert('未选择是否同意服务选项');
                    check = false;
                    return ;
                } 
                if (check) {
                    $.ajax({
                        type: "POST",
                        url: "http://127.0.0.1:8000/user/register",
                        dataType: "json",
                        //前端给后端发数据
                        data: JSON.stringify({
                            "user_account":user_account,
                            "user_password":user_password,
                            "user_password2":user_password2,
                            "user_name":user_name,
                            "user_phone":user_phone,
                            "user_email":user_email,
                            "user_sex":user_sex,
                            // "user_grad":user_grad,
                            // "user_course":user_course,
                            // "user_address":user_address,
                            // "user_info":user_info,
                        }),
                        // 数据类型data---> 成功{"code":200,"teacheraccount":teacheraccount,"data":{"token":"...."}}
                        success: function (data) {
                            if(data.code ==200){
                                //登陆成功 本地存储token 和user name 
                                window.localStorage.setItem('user_token',data.data.token);
                                window.localStorage.setItem('user_account',data.data.user_account);
                                console.log(window.localStorage.user_account)
                                alert('注册成功！');
                                window.location.href = 'index.html'; 
                            }
                            else{
                                console.log(data.error);
                            }
                            
                        },
                        error: function (data) {
                            console.log(data);
                        },
                    })
                }

            })
</script>   
<div>
	<div class="footer">
        <div class="wp">
            <div class="footer_con clear">
            <span>友情链接</span>
            <div class="footer_con_t">
                <a href="https://www.baidu.com/?tn=02003390_3_hao_pg">百度</a>
            </div>
            </div>
            <div class="footer_bo clear">
                <div class="footer_bo_l fl">
                <p>24小时热线：10086-11   Yn2018ssry（微信）</p>
                <p>在线QQ：2991044231  邮箱：2991044231@qq.com  传真：029-88645065</p>
                <p>公司地址：NO伍佰教育科技有限公司总部</p>
              <p> <img src="images/comp.png" alt=""> 陕公网安备 61010402000427号</p>
                <p>©2017 - 2019 NO伍佰教育科技有限公司 </p>
                <p>技术支持：<a href="javascript:;" target="_blank">西安NO伍佰教育科技有限公司</a></p>

            </div>
            <div class="footer_bo_r fr">
                <ul class="clear">
                    <li>
                      <!-- <img src="http://img.zhishanshi.com/web/image/201905/1559282162468.png" alt=""> -->
                        <img src="images/20191213214440.jpg" alt="">
                        <p>扫描QQ二维码</p>
                    </li>
                    <li>
                        <img src="images/20191213215158.png" alt="">
                        <p>微信公众号</p>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
</div>

</body>
</html>
