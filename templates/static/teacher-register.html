<!DOCTYPE HTML>
<html>

<head>
    <title>注册</title>
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all">
    <link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="Refinement Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template,
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
    <script
        type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/slick.js"></script>
    <script src="js/index.js"></script>
    <!--<script src="js/layer.js"></script>-->
    <!--<script src="js/hm.js"></script>-->
    <script src="js/placeholder.js"></script>
    <!--<link href='https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:400,200,300,700' rel='stylesheet' type='text/css'>-->
    <!--<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,800italic,800,700italic,700,600italic,600,400italic,300italic,300' rel='stylesheet' type='text/css'>-->
    <link rel="stylesheet" href="css/slick.css" type="text/css" media="all">
    <link rel="stylesheet" href="css/reset.css" type="text/css" media="all">
    <link rel="stylesheet" href="css/webnet.css">
    <script src="js/bootstrap.js"></script>
    <style>
        .fullcategory {
            width: 220px;
            height: 383px;
        }

        .jbxx .jbxx_d .jbxx_d1 ul>li .div1 .select-menu-ul1 {
            list-style: none;
            opacity: 0;
            display: none;
            width: 100%;
            text-align: left;
            border: 1px solid #ddd;
            background: #fff;
            position: fixed;
            bottom: 0;
            left: 0px;
            z-index: 9999;
            height: 310px;
            overflow: scroll;
            margin-top: 50px;
            list-style: none;
            opacity: 0;
            display: none;
            width: 336px;
            text-align: left;
            border: 1px solid #ddd;
            background: #fff;
            position: absolute;
            z-index: 1;
            left: 250px;
            top: 70px;
        }
    </style>
</head>

<body>

    <!--header-->
    <div class="headerbanr">
        <div class="container">
            <div class="header-top">
                <nav class="navbar navbar-default">
                    <div class="container-fluid">
                        <!-- Brand and toggle get grouped for better mobile display -->
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                                data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                            <div class="navbar-brand">
                                <h1><a href="index.html">No伍佰家教</a></h1>
                            </div>
                        </div>

                        <!-- Collect the nav links, forms, and other content for toggling -->
                        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                            <ul class="nav navbar-nav">
                                <li><a href="index.html">首页 <span class="sr-only">(current)</span></a></li>
                                <li><a href="about.html">关于</a></li>
                                <li><a href="services.html">服务</a></li>
                                <li class="dropdown">
                                    <a href="#">教员库 <span class="caret"></span></a>
                                <li class="dropdown">
                                    <a href="#" >学员库 <span class="caret"></span></a>

                                <li><a href="codes.html">代码</a></li>
                                <li><a href="contact.html">联系我们</a></li>
                                <li id = "login"><a href="login.html">登录</a></li>
                                <li id = "register" class="active"><a href="register.html">注册</a></li>
                                <span id ="login" style="color: crimson;"></span>&nbsp;&nbsp;&nbsp;<span id ="register" style="color: crimson;"></span>
                            </ul>

                        </div><!-- /.navbar-collapse -->
                    </div><!-- /.container-fluid -->
                </nav>

            </div>
        </div>
    </div>

    <div class="qjj wp clear">


        <div class="qjj_l fl">
            <div class="qjj_l_t">
                <h3>会员反馈</h3>
                <div class="qjj_l_t1">
                    <ul>
                        <li>
                            <a href="">
                                <h3><i></i>学员反馈与张教员成功授课：</h3>
                                <p>好的</p>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <h3><i></i>学员反馈与李教员成功授课：</h3>
                                <p>很好的教员，上课负责，口语标准。</p>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="qjj_l_d">
                <a href="register.html" class="a2">免费注册</a>
                <a href="/site/gettutor">我要请家教</a>
                <a href="/tutor/register" class="a2">我要做家教</a>

            </div>
        </div>
        <div class="qjj_r fr">
            <div class="qjj_r_t">
                <!--            <span><img src="-->
                <!--images/img_15.png" alt="">您的位置：</span>-->
                <a href="">新教员注册</a>
            </div>
            <div class="hyzc">
                <h3>新教员注册</h3>
                <div class="hyzc_t clear">

                </div>
                <div class="hyzc_d">
                    <form action="">
                        <ul>
                            <li class="clear">
                                <span><i>*</i>账号：</span>
                                <input id="teacheraccount" name="account" type="text" placeholder="账号在6-9位之间">
                            </li>
                            <li class="clear">
                                <span><i>*</i>密码：</span>
                                <input id="teacherpswd1" name="pwd1" type="password" placeholder="密码长度在6到12位之间">
                            </li>
                            <li class="clear">
                                <span><i>*</i>确认密码：</span>
                                <input id="teacherpswd2" name="pwd2" type="password" placeholder="密码长度在6到12位之间">
                            </li>
                            <li class="clear">
                                <span><i>*</i>手机：</span>
                                <input id="phone" name="pone" type="text" placeholder="请输入手机号">
                                <span class="msg-default hidden">请输入合法手机号</span>
                            </li>
                            <li class="clear">
                                <span><i>*</i>电子邮箱：</span>
                                <input id="teacheremail" name="email" type="tel" placeholder="用于找回密码">
                                <span class="msg-default hidden">请输入合法邮箱</span>
                            </li>
                            <li>
                                <input type="checkbox" id="dcb" name="sec" value="0" onclick="this.value=(this.value==0)?1:0">
                                <label for="dcb">已阅读并同意</label> <i><a href="" class="track_click"
                                        style="color: red;font-size: 18px;">《用户协议》</a></i><em
                        
                                        style="font-size: 18px">和</em> <i><a href="" class="track_click1"
                                        style="color: red;font-size: 18px;">《教员须知》</a></i>
                            </li>
                            <li>
                                <input class="study_reg" type="button" value="立即注册">
                            </li>
                        </ul>
                    </form>
                </div>
            </div>
            <script>
                $(".study_reg").on("click", function () {

                    //获取数据
                    var teacheraccount = $('#teacheraccount').val();
                    var teacherpswd1 = $("#teacherpswd1").val();
                    var teacherpswd2 = $("#teacherpswd2").val();
                    var teacheremail = $("#teacheremail").val();
                    var phone = $("#phone").val();
                    var dcb = $("#dcb").val()
                    //给出正则


                    var nameReg = /^[a-zA-Z][0-9A-Za-z_]{6,12}/;
                    var upwdReg = /^\w{6,12}$/;
                    var phoneReg = /^1[3-9][0-9]{9}$/;
                    var emailReg = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;


                    //进行数据判断
                    var check = true;

                    if (!nameReg.test(teacheraccount)) {
                        alert('账号不能为空或者不符合要求')
                        check = false;
                        return;
                    }
                    if (!upwdReg.test(teacherpswd1) || !upwdReg.test(teacherpswd2)) {
                        alert('密码不能为空或者不符合要求')

                        check = false;

                        return;
                    }
                    if (!phoneReg.test(phone)) {
                        alert('手机号不能为空或者不符合要求')

                        check = false;
                        return
                    }
                    if (!emailReg.test(teacheremail)) {
                        alert('邮箱不能为空或者不符合要求')
                        check = false;

                        return
                    }
                    if(dcb==0){
                        alert('服务款项为选择或未同意')
                        check = false;

                        return
                    }
                   
                    if (check) {
                        $.ajax({
                            type: "POST",
                            url: "http://127.0.0.1:8000/teacher/register",
                            dataType: "json",
                            contentType:"Aplication/json",
                            //前端给后端发数据
                            data: JSON.stringify({
                                "teacheraccount": teacheraccount,
                                "teacherpswd1": teacherpswd1,
                                "teacherpswd2": teacherpswd2,
                                "teacheremail": teacheremail,
                                "phone": phone,
                            }),
                            // 数据类型data---> 成功{"code":200,"teacheraccount":teacheraccount,"data":{"token":"...."}}
                            success: function (data) {
                                if(data.code ==200){
                                    // console.log(data.data);
                                    //登陆成功 本地存储token 和teacher name 
                                    window.localStorage.setItem('teacher_token',data.data.token);
                                    window.localStorage.setItem('teacher_account',data.teacher_account);
                                    alert('注册成功！');
                                    window.location.href = 'teacher_detailed_inform.html'; 
                                }
                                else{
                                    alert(data.error);
                                }
                                
                            },
                            error: function (data) {
                                alert(data.error);
                            },
                        })
                    }

                })





                //用jquery 进行点击事件  获取值
                // $("#dcb").on("click",function())


            </script>
        </div>
    </div>
    <div>
        <div class="footer">
            <div class="wp">
                <div class="footer_con clear">
                    <span>友情链接</span>
                    <div class="footer_con_t">
                        <a href="https://www.baidu.com/?tn=02003390_3_hao_pg">百度</a>
                    </div>
                </div>
                <div class="footer_bo clear">
                    <div class="footer_bo_l fl">
                        <p>24小时热线：10086-11 Yn2018ssry（微信）</p>
                        <p>在线QQ：2991044231 邮箱：2991044231@qq.com 传真：029-88645065</p>
                        <p>公司地址：NO伍佰教育科技有限公司总部</p>
                        <p> <img src="images/comp.png" alt=""> 陕公网安备 61010402000427号</p>
                        <p>©2017 - 2019 NO伍佰教育科技有限公司 </p>
                        <p>技术支持：<a href="javascript:;" target="_blank">西安NO伍佰教育科技有限公司</a></p>

                    </div>
                    <div class="footer_bo_r fr">
                        <ul class="clear">
                            <li>
                                <!-- <img src="http://img.zhishanshi.com/web/image/201905/1559282162468.png" alt=""> -->
                                <img src="images/20191213214440.jpg" alt="">
                                <p>扫描QQ二维码</p>
                            </li>
                            <li>
                                <img src="images/20191213215158.png" alt="">
                                <p>微信公众号</p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>

</html>